<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title data-i18n="緊急時対応WEB">緊急時対応WEB</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background: #fff8f6;
    }
    header {
      background: #b71c1c;
      color: white;
      padding: 1em;
      text-align: center;
      font-size: 1.8em;
      font-weight: bold;
      letter-spacing: 1px;
    }
    .container {
      padding: 1em;
    }
    .card {
      background: linear-gradient(to right, #ffcdd2, #ff8a80);
      border-left: 8px solid #d32f2f;
      padding: 1em;
      margin: 1.5em 0;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      cursor: pointer;
      transition: transform 0.2s;
    }
    .card:hover {
      transform: scale(1.02);
    }
    .card h2 {
      margin: 0;
      font-size: 1.3em;
      color: #b71c1c;
      font-weight: bold;
    }
    .details {
      display: none;
      margin-top: 0.8em;
      font-size: 1em;
      color: #333;
      animation: fadeIn 0.3s ease-in-out;
    }
    .details ul {
      padding-left: 1.2em;
      list-style-type: square;
    }
    .emergency {
      background: #d32f2f;
      color: white;
      padding: 1.5em 1em;
      text-align: center;
      margin-top: 3em;
      border-radius: 12px;
      font-weight: bold;
      animation: blink 1.5s infinite;
    }
    button {
      background: #b71c1c;
      color: white;
      border: none;
      padding: 0.8em 1.2em;
      border-radius: 6px;
      font-size: 1em;
      cursor: pointer;
      transition: background 0.2s;
      margin-top: 0.5em;
    }
    button:hover {
      background: #d32f2f;
    }
    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-5px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

<header data-i18n="緊急時対応WEB">緊急時対応WEB</header>

<div class="container">

  <div class="card" onclick="toggleDetails('sounan')">
    <h2 data-i18n="山での遭難時の対応">山での遭難時の対応</h2>
    <div class="details" id="sounan">
      <ul>
        <li data-i18n="まずは冷静になる">まずは冷静になる</li>
        <li data-i18n="動かず現在地を確認">動かず現在地を確認</li>
        <li data-i18n="携帯が通じるなら110/119または家族へ連絡">携帯が通じるなら110/119または家族へ連絡</li>
        <li data-i18n="ホイッスルや光で居場所を知らせる">ホイッスルや光で居場所を知らせる</li>
        <li data-i18n="水分・体温の確保を最優先">水分・体温の確保を最優先</li>
      </ul>
    </div>
  </div>

  <div class="card" onclick="toggleDetails('kasai')">
    <h2 data-i18n="火災時の対処">火災時の対処</h2>
    <div class="details" id="kasai">
      <ul>
        <li data-i18n="ハンカチや衣類で口を覆う">ハンカチや衣類で口を覆う</li>
        <li data-i18n="低い姿勢で移動">低い姿勢で移動</li>
        <li data-i18n="出口を確認して迅速に避難">出口を確認して迅速に避難</li>
        <li data-i18n="可能なら火元を消火器で対応">可能なら火元を消火器で対応</li>
        <li data-i18n="煙を吸わないよう注意">煙を吸わないよう注意</li>
      </ul>
    </div>
  </div>

  <div class="card" onclick="toggleDetails('kuma')">
    <h2 data-i18n="熊・大型動物との遭遇">熊・大型動物との遭遇</h2>
    <div class="details" id="kuma">
      <ul>
        <li data-i18n="出会っても走らない">出会っても走らない</li>
        <li data-i18n="ゆっくり後退し距離を取る">ゆっくり後退し距離を取る</li>
        <li data-i18n="音や鈴で事前に存在を知らせる">音や鈴で事前に存在を知らせる</li>
        <li data-i18n="威嚇せず刺激を与えない">威嚇せず刺激を与えない</li>
        <li data-i18n="スプレーがあるなら準備">スプレーがあるなら準備</li>
      </ul>
    </div>
  </div>

  <div class="card" onclick="toggleDetails('mushi')">
    <h2 data-i18n="ダニ・スズメバチなどの虫">ダニ・スズメバチなどの虫</h2>
    <div class="details" id="mushi">
      <ul>
        <li data-i18n="長袖長ズボンを着用">長袖長ズボンを着用</li>
        <li data-i18n="刺されたらすぐ離れ、安静に">刺されたらすぐ離れ、安静に</li>
        <li data-i18n="スズメバチは黒い色に注意">スズメバチは黒い色に注意</li>
        <li data-i18n="アナフィラキシー症状に注意">アナフィラキシー症状に注意</li>
        <li data-i18n="ダニは無理に取らず医師へ">ダニは無理に取らず医師へ</li>
      </ul>
    </div>
  </div>

  <div class="card" onclick="toggleDetails('dokubutsu')">
    <h2 data-i18n="有毒植物・キノコ">有毒植物・キノコ</h2>
    <div class="details" id="dokubutsu">
      <ul>
        <li data-i18n="知らない植物・キノコは絶対に口にしない">知らない植物・キノコは絶対に口にしない</li>
        <li data-i18n="触れた場合は速やかに洗う">触れた場合は速やかに洗う</li>
        <li data-i18n="食後異変があればすぐ病院へ">食後異変があればすぐ病院へ</li>
        <li data-i18n="写真を撮って医師に見せると良い">写真を撮って医師に見せると良い</li>
        <li data-i18n="症状が出なくても油断しない">症状が出なくても油断しない</li>
      </ul>
    </div>
  </div>

  <div class="emergency">
    <h3 data-i18n="📞 緊急連絡先">📞 緊急連絡先</h3>
    <p data-i18n="警察：110 ／ 消防・救急：119">警察：110 ／ 消防・救急：119</p>
    <button onclick="getLocation()" data-i18n="現在地を送信">現在地を送信</button>
    <p id="locationInfo"></p>
  </div>
</div>

<!-- i18nextライブラリ -->
<script src="https://unpkg.com/i18next@21.9.1/dist/umd/i18next.min.js"></script>

<!-- 言語切替ボタン -->
<div style="text-align:center; margin-top:1em;">
  <button onclick="changeLang('ja')">日本語</button>
  <button onclick="changeLang('en')">English</button>
</div>

<script>
  function toggleDetails(id) {
    const detail = document.getElementById(id);
    detail.style.display = detail.style.display === 'block' ? 'none' : 'block';
  }

  const resources = {
    en: {
      translation: {
        "緊急時対応WEB": "Emergency Response Web",
        "山での遭難時の対応": "Response to Mountain Distress",
        "まずは冷静になる": "Stay calm first",
        "動かず現在地を確認": "Don't move and confirm your location",
        "携帯が通じるなら110/119または家族へ連絡": "Call 110/119 or family if possible",
        "ホイッスルや光で居場所を知らせる": "Use a whistle or light to signal your location",
        "水分・体温の確保を最優先": "Prioritize water and body heat",
        "火災時の対処": "Response to Fire",
        "ハンカチや衣類で口を覆う": "Cover your mouth with cloth",
        "低い姿勢で移動": "Move in a low posture",
        "出口を確認して迅速に避難": "Find an exit and evacuate quickly",
        "可能なら火元を消火器で対応": "Use an extinguisher if possible",
        "煙を吸わないよう注意": "Avoid inhaling smoke",
        "熊・大型動物との遭遇": "Encounter with Bears or Large Animals",
        "出会っても走らない": "Do not run if encountered",
        "ゆっくり後退し距離を取る": "Back away slowly and keep distance",
        "音や鈴で事前に存在を知らせる": "Make noise or use bells to alert animals",
        "威嚇せず刺激を与えない": "Do not provoke or threaten",
        "スプレーがあるなら準備": "Have bear spray ready if available",
        "ダニ・スズメバチなどの虫": "Ticks and Hornets",
        "長袖長ズボンを着用": "Wear long sleeves and pants",
        "刺されたらすぐ離れ、安静に": "If stung, move away and stay calm",
        "スズメバチは黒い色に注意": "Beware of dark colors around hornets",
        "アナフィラキシー症状に注意": "Watch for signs of anaphylaxis",
        "ダニは無理に取らず医師へ": "Do not forcefully remove ticks—see a doctor",
        "有毒植物・キノコ": "Toxic Plants and Mushrooms",
        "知らない植物・キノコは絶対に口にしない": "Never eat unknown plants or mushrooms",
        "触れた場合は速やかに洗う": "Wash immediately if touched",
        "食後異変があればすぐ病院へ": "See a doctor if symptoms appear after eating",
        "写真を撮って医師に見せると良い": "Take photos and show them to the doctor",
        "症状が出なくても油断しない": "Stay alert even if symptoms don’t appear",
        "📞 緊急連絡先": "📞 Emergency Contacts",
        "警察：110 ／ 消防・救急：119": "Police: 110 / Fire & Ambulance: 119",
        "現在地を送信": "Send Current Location",
        "位置情報が取得できませんでした。": "Could not get location.",
        "このブラウザでは位置情報がサポートされていません。": "This browser does not support geolocation.",
        "緯度: ": "Latitude: ",
        "経度: ": "Longitude: "
      }
    }
  };

  i18next.init({
    lng: 'ja',
    debug: false,
    resources
  });

  function changeLang(lang) {
    i18next.changeLanguage(lang, () => {
      translateAllText();
    });
  }

  function translateAllText() {
    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n');
      const translation = i18next.t(key);
      if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
        el.placeholder = translation;
      } else {
        el.innerText = translation;
      }
    });
  }

  window.addEventListener('DOMContentLoaded', () => {
    translateAllText();
  });

  const originalGetLocation = getLocation;
  getLocation = function() {
    const locInfo = document.getElementById('locationInfo');
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function(position) {
        locInfo.innerHTML = `${i18next.t("緯度: ")}${position.coords.latitude.toFixed(5)}, ${i18next.t("経度: ")}${position.coords.longitude.toFixed(5)}`;
      }, function() {
        locInfo.innerHTML = i18next.t("位置情報が取得できませんでした。");
      });
    } else {
      locInfo.innerHTML = i18next.t("このブラウザでは位置情報がサポートされていません。");
    }
  };
</script>

</body>
</html>
